@if(!isLoggedIn()){
<a routerLink="/login" class="hidden md:inline">
  Đăng nhập
</a>
}@else{
<div class="relative" #dropdownRef>
  <!-- Avatar Button -->
  <button class="flex items-center gap-2 focus:outline-none" (click)="toggleDropdown()" #buttonRef>
    <img src="https://cdn.flyonui.com/fy-assets/avatar/avatar-6.png" alt="User Avatar" class="w-10 h-10 rounded-full" />
    <span class="hidden md:inline">
      {{ user()?.firstName }} {{ user()?.lastName }}
    </span>
  </button>

  @if (dropdownProfile()) {
  <!-- Dropdown Menu -->
  <div class="absolute right-0 mt-2 w-64 bg-white text-black rounded-lg shadow-lg border z-50">
    <!-- Header -->
    <div class="flex items-center gap-3 p-4 border-b">
      <img src="https://cdn.flyonui.com/fy-assets/avatar/avatar-6.png" alt="Avatar" class="w-10 h-10 rounded-full" />
      <div>
        <p class="font-semibold">
          {{ user()?.firstName }} {{ user()?.lastName }}
        </p>
      </div>
    </div>

    <!-- Menu Items -->
    <ul class="p-2">
      <li>
        <a class="block px-4 py-2 hover:bg-gray-100 rounded" routerLink="/profile">
          My account
        </a>
      </li>
      <li>
        <a class="block px-4 py-2 hover:bg-gray-100 rounded" href="#">
          Settings
        </a>
      </li>
      <li>
        <a class="block px-4 py-2 hover:bg-gray-100 rounded" href="#">
          Billing
        </a>
      </li>
      <hr class="my-2 border-gray-200" />
      <li>
        <a class="block px-4 py-2 hover:bg-gray-100 rounded" href="#">
          Manage team
        </a>
      </li>
      <li>
        <a class="block px-4 py-2 hover:bg-gray-100 rounded" href="#">
          Customisation
        </a>
      </li>
      <li>
        <a class="block px-4 py-2 hover:bg-gray-100 rounded" href="#">
          Add team account
        </a>
      </li>
    </ul>

    <!-- Footer -->
    <div class="p-2 border-t">
      <button (click)="logout()"
        class="w-full block text-left text-red-600 px-4 py-2 hover:bg-red-50 rounded" href="#">
        Logout
      </button>
    </div>
  </div>
  }
</div>
}
